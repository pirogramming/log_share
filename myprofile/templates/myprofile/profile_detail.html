<style>
    .temp {
        width: 80%;
        margin: 50px auto;
    }

    .profile_first_container {
        background-color: white;
        border-radius: 5px;
        box-shadow: 2px 2px 2px #b0bec9;
        padding: 10px 40px;
        border: 0.5px solid #b0bec9;
    }

    .profile_first_container div {
        background-color: transparent;
        padding: 10px 0;
    }

    .profile_first_container div a {
        text-decoration: none;
        color: black;
    }

    .profile_first_container a:hover {
        color: #514aac;
        font-weight: bold;
    }

    .profile_first_container .profile_first_front_container {
        margin: 20px 0;
        text-align: center;
        border: 2px solid #e3f2fd;
        border-radius: 5px;
    }

    .profile_first_container .profile_first_content {
        display: inline-block;
        text-align: left;
        padding-left: 60px;
        width: 40%;
        min-height: 40%;
        margin-top: 20px;
    }

    .profile_first_container .profile_first_content .profile_name {
        font-size: 20px;
        font-weight: bold;
        vertical-align: text-top;
        height: 80px;
        display: inline;
    }

    .profile_first_container .profile_first_content .label_name {
        padding: 0 20px;
        font-size: 20px;
        border: 2px solid #e3f2fd;
        border-radius: 5px;
        margin-right: 10px;
        display: inline;
        font-weight: lighter;
    }

    .profile_first_container .profile_first_content .profile_depart {
        height: 50px;
        font-size: 20px;
    }

    .profile_first_container .profile_first_content .profile_depart .label_depart {
        padding: 0 20px;
        font-size: 20px;
        border: 2px solid #e3f2fd;
        border-radius: 5px;
        margin-right: 10px;
        display: inline;
    }

    .profile_first_container .profile_first_content .profile_intro {
        font-size: 20px;
        width: 30%;
    }

    .profile_first_container .profile_first_content .profile_intro .label_intro {
        padding: 0 20px;
        font-size: 20px;
        border: 2px solid #e3f2fd;
        border-radius: 5px;
        margin-right: 10px;
        display: inline;
    }

    .profile_first_container .profile_first_front_container .profile_photo {
        float: left;
        margin-left: 18%;
    }

    .profile_first_container .profile_first_front_container .profile_photo img {
        border-radius: 100%;
        object-fit: cover;
    }

    {# --------------------------------------------------------------- #}
    .profile_recent_tag {
        background-color: white;
        border-radius: 5px;
        padding: 10px 20px;
        box-sizing: border-box;
        box-shadow: 2px 2px 2px #b0bec9;
        margin: 10px 0;
        border: 0.5px solid #b0bec9;
    }

    .profile_recent_tag span {
        background-color: transparent;
    }

    .profile_recent_tag span a {
        text-decoration: none;
        color: black;
    }

    .profile_recent_tag span a:hover {
        font-weight: bold;
        color: #514aac;
    }

    {#---------------------------- post_list---------------------------------------- #}
    .profile_post_list {
        background-color: white;
        border-radius: 5px;
        padding: 10px 20px;
        box-shadow: 2px 2px 2px #b0bec9;
        border: 0.5px solid #b0bec9;
    }

    .profile_post_list div {
        background-color: transparent;
    }

    .profile_post_list div a:hover {
        color: #514aac;
        font-weight: bold;
    }

    .profile_post_list div a {
        text-decoration: none;
        color: black;
    }

    .profile_post_list .rateit {
        width: 80px;
        height: 17px;
        overflow: hidden;
    }

    .profile_post_list_ajax {
        background-color: white;
        border-radius: 5px;
        padding: 10px 20px;
        box-shadow: 2px 2px 2px #b0bec9;
        border: 0.5px solid #b0bec9;
    }

    .profile_post_list_ajax div {
        background-color: transparent;
    }

    .profile_post_list_ajax div a {
        text-decoration: none;
        color: black;
    }

    .profile_post_list_ajax div a:hover {
        color: #514aac;
        font-weight: bold;
    }

    .profile_post_list_ajax .rateit {
        width: 80px;
        height: 17px;
        overflow: hidden;
    }

    {# --------------------------------------------------- #}
    .interested_tag_header {
        font-size: 15pt;
        padding: 0 20px;
        font-size: 20px;
        border: 2px solid #e3f2fd;
        border-radius: 5px;
        margin-right: 10px;
        display: inline;
    }

    .interested_tag {
        color: white;
        border: 0px;
        border-radius: 2px;
        font-size: 15px;
        margin: 2px 0px;
        padding: 5px;
        transition: all .1s;
    }

    .interested_tag:hover {
        cursor: pointer;
        outline: 2px groove #1a237e;
    }

    .profile_email {
        display: inline;
        margin-right: 20px;
    }

    .profile_email .fa-envelope::before {
        display: none;
    }

    .profile_email a i {
        font-size: 30px;
    }

    .profile_bookmark {
        font-size: 30px;
        display: inline;
        margin-right: 20px;
    }

    .profile_post_create {
        font-size: 30px;
        display: inline;
    }

    .profile_edit {
        padding-bottom: 20px;
        margin-left: 88%;
    }

    .naver {
        margin-bottom: 8px;
    }

    .daum {
        margin-bottom: 8px;
    }

    .github {
        margin-bottom: 8px;
    }

    .other {
        margin-bottom: 8px;
    }

    .naver .naver_label {
        font-size: 18px;
        border: 2px solid #e3f2fd;
        border-radius: 5px;
        margin-right: 10px;
        display: inline;
        padding: 5px 5px;
    }

    .daum .daum_label {
        font-size: 18px;
        border: 2px solid #e3f2fd;
        border-radius: 5px;
        margin-right: 10px;
        display: inline;
        padding: 5px 5px;
    }

    .github .github_label {
        font-size: 18px;
        border: 2px solid #e3f2fd;
        border-radius: 5px;
        margin-right: 10px;
        display: inline;
        padding: 5px 5px;
    }

    .other .other_label {
        font-size: 18px;
        border: 2px solid #e3f2fd;
        border-radius: 5px;
        margin-right: 10px;
        display: inline;
        padding: 5px 5px;
    }
</style>

{% extends 'base.html' %}


{% block content %}
    <div class="temp">
        <div class="profile_container">
            <div class="profile_first_container">
                <div class="profile_first_front_container">
                    <div class="profile_photo">
                        {% if profile.photo %}
                            <img src="{{ profile.photo.url }}" alt="" width="300px" height="300px"/>
                        {% endif %}
                    </div>
                    <div class="profile_first_content">
                        <div class="profile_name">
                            <div class="label_name">이름</div>
                            {{ profile.name }}</div>
                        <div class="profile_depart">
                            <div class="label_depart">소속</div>
                            {{ profile.department }}</div>
                        <div class="profile_intro">
                            <div class="label_intro">자기소개</div>
                            {% if profile.description != None %}
                                {{ profile.description }}
                            {% endif %}
                        </div>
                        <div><p class="interested_tag_header">관심태그</p>
                            {% if profile.interested_tag != None %}
                                {% for tag, size in interested_tag_dict.items %}
                                    <a href="{% url 'search:tag_search' tag %}">
                                        <button class="interested_tag"> #{{ tag }} </button>
                                    </a>
                                {% endfor %}
                            {% endif %}
                        </div>
                    </div>
                </div>
                {% if profile.naver != None %}
                    <div class="naver">
                        <div class="naver_label"><a href="{{ profile.naver }}">네이버</a></div>
                    </div>
                {% endif %}
                {% if profile.daum != None %}
                    <div class="daum">
                        <div class="daum_label"><a href="{{ profile.daum }}">다음</a></div>
                    </div>
                {% endif %}
                {% if profile.github != None %}
                    <div class="github">
                        <div class="github_label"><a href="{{ profile.github }}">Github</a></div>
                    </div>
                {% endif %}
                {% if profile.other_url != None %}
                    <div class="other">
                        <div class="other_label"><a href="{{ profile.other_url }}">others</a></div>
                    </div>
                {% endif %}
                <br>
                <div class="profile_email"><a href="mailto:{{ profile.user.email }}" class="fa-envelope"><i
                        class="fas fa-envelope-square"></i></a></div>

                {% if profile.user.pk == user.pk %}
                    <div class="profile_bookmark"><a href="{% url 'myprofile:bookmark_list' profile.user.pk %}"><i
                            class="fas fa-bookmark"></i></a>
                    </div>
                    <div class="profile_post_create"><a href="{% url 'post:post_create' %}"><i
                            class="fas fa-pen-square"></i></a></div>
                    <br>
                    <div class="profile_edit"><a href="{% url 'myprofile:profile_edit' profile.user.pk %}">프로필 수정하기</a>
                    </div>
                {% endif %}
            </div>
            <hr>
            <div class="profile_recent_tag">
                최근 태그 리스트 :
                {% for tag_name, tag_count in recent_tags_count.items %}
                    {% if tag_count >= 2 %} <!—숫자는 추후 조정—>
                        <span style="font-size: x-large">
                         <a class="tags" href="{% url 'search:tag_search' tag_name %}">#{{ tag_name }}</a></span>
                    {% else %}
                        <span><a class="tags" href="{% url 'search:tag_search' tag_name %}">#{{ tag_name }}</a></span>
                    {% endif %}
                {% endfor %}
            </div>
            <br>
            {% include 'post/myprofile_post_list.html' %}
        </div>
    </div>
    <script type="text/javascript">
        var get_random_RGB = function () {
            var r = Math.floor((Math.random() * 0xcc) + 0x11).toString(16);
            var g = Math.floor((Math.random() * 0xcc) + 0x11).toString(16);
            var b = Math.floor((Math.random() * 0xcc) + 0x11).toString(16);
            return '#' + r + g + b;
        }
        $('.interested_tag').each(function () {
            $(this).css('background-color', get_random_RGB);
        })
    </script>
{% endblock %}

