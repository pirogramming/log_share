<style>
    .temp {
        width: 80%;
        margin: 50px auto;
    }

    .rateit {
        width: 80px;
        height: 17.5px;
        overflow: hidden;
    }

    .profile_first_container {
        background-color: white;
        border-radius: 5px;
        box-shadow: 2px 2px 2px #b0bec9;
        padding: 10px 40px;
        border: 0.5px solid #b0bec9;
    }

    .profile_first_container > div {
        background-color: transparent;
        padding: 10px 0;
    }

    .profile_first_container > div a {
        text-decoration: none;
        color: black;
    }

    .profile_first_container a:hover {
        color: #514aac;
        font-weight: bold;
    }

    .profile_first_container .profile_first_front_container {
        margin: 20px 0;
        text-align: center;
        border: 2px solid #e3f2fd;
        border-radius: 5px;
        padding: 20px 0;
    }

    .profile_first_container .profile_first_content {
        display: inline-block;
        text-align: left;
        padding-left: 60px;
        width: 48%;
        min-height: 40%;
        margin-top: 20px;
    }

    .profile_first_container .profile_first_content .profile_name {
        font-size: 30px;
        font-weight: bold;
        vertical-align: text-top;
        height: 80px;
        display: inline;
        font-family: 'Gaegu', cursive;
    }

    .profile_first_container .profile_first_content .label_name {
        padding: 7px 10px;
        font-size: 15px;
        border: 2px solid #e3f2fd;
        border-radius: 5px;
        margin-right: 10px;
        display: inline;
        font-weight: lighter;
    }

    .depart_con {
        margin: 30px 0;
    }

    .profile_depart {
        height: 50px;
        font-size: 20px;
        display: inline;
        font-family: 'Gaegu', cursive;
    }

    .label_depart {
        padding: 7px 10px;
        text-align: center;
        width: 50px;
        font-size: 15px;
        border: 2px solid #e3f2fd;
        border-radius: 5px;
        margin-right: 10px;
        display: inline;
    }

    .profile_first_container .profile_first_content .profile_intro {
        font-size: 20px;
        width: 95%;
        margin-bottom: 30px;
        padding-left: 10px;
        font-family: 'Gaegu', cursive;
    }

    .profile_first_container .profile_first_content .profile_intro p {
        padding-bottom: 15px;
    }

    .profile_first_container .profile_first_content .label_intro {
        width: 80px;
        font-size: 15px;
        border: 2px solid #e3f2fd;
        border-radius: 5px;
        margin-right: 10px;
        margin-bottom: 10px;
        text-align: center;
        padding: 8px 0;
    }

    .photo_con {
        width: 45%;
        float: left;
    }

    .photo_con .profile_photo {
        align-items: center;
        justify-content: center;
        float: right;
        padding-right: 10%;
        display: flex;
    }

    .photo_con .profile_photo img {
        width: 300px;
        height: 300px;
        border-radius: 100%;
        object-fit: cover;
        justify-content: center;
        align-items: center;
    }

    {# ------------------------------최신 태그--------------------------------- #}
    .profile_recent_tag {
        background-color: white;
        border-radius: 5px;
        box-sizing: border-box;
        box-shadow: 2px 2px 2px #b0bec9;
        margin: 10px 0;
        border: 0.5px solid #b0bec9;
    }

    .recent_tag_label {
        display: inline;
        color: #514aac;
        padding: 0 10px;
        font-weight: bold;
    }

    .profile_recent_tag span {
        background-color: transparent;
    }

    .profile_recent_tag span a {
        text-decoration: none;
        color: black;
    }

    .profile_recent_tag span a:hover {
        font-weight: bold;
        color: #514aac;
    }

    {#---------------------------- post_list---------------------------------------- #}
    .profile_post_first_con {
        padding-bottom: 20px;
    }

    .profile_container .profile_post_list {
        background-color: white;
        border-radius: 5px;
        padding: 20px 20px;
        margin-bottom: 10px;
    {#box-shadow: 2px 2px 2px #b0bec9;#} border: 0.5px solid #b0bec9;
    }

    .profile_post_list div {
        background-color: transparent;
        margin-top: 2px;
    }

    .profile_post_list div a:hover {
        color: #514aac;
        font-weight: bold;
    }

    .profile_post_list div a {
        text-decoration: none;
        color: black;
    }

    .profile_container .profile_post_list_ajax {
        background-color: white;
        border-radius: 5px;
        padding: 20px 20px;
        margin-bottom: 10px;
    {#box-shadow: 2px 2px 2px #b0bec9;#} border: 0.5px solid #b0bec9;
    }

    .profile_post_list_ajax div {
        background-color: transparent;
    }

    .profile_post_list_ajax div a {
        text-decoration: none;
        color: black;
    }

    .profile_post_list_ajax div a:hover {
        color: #514aac;
        font-weight: bold;
    }

    {#------------------------post_list contents------------------------- #}

    .profile_post_title {
        font-weight: bold;
        font-size: 20px;
        display: inline;
        padding: 5px 0;
        padding-right: 10px;
    }

    .profile_post_category {
        display: inline;
        padding: 5px 0;
    }

    .profile_post_contents {
        padding-left: 10px;
        padding-bottom: 20px;
    }

    .profile_post_date {
        display: inline;
        padding-right: 10px;
    }

    .profile_post_bookmark_count {
        display: inline;
        padding-right: 10px;
    }

    .profile_post_tag {
        padding-top: 10px;
    }

    .profile_post_tag a .badge {
        display: inline-block;
        padding: .25em .4em;
        font-size: 75%;
        font-weight: 700;
        line-height: 1;
        text-align: center;
        white-space: nowrap;
        vertical-align: baseline;
        border-radius: .25rem;
        color: #fff;
        background-color: #343a40;
    }


    .profile_post_list .rateit .rateit-selected {
        color: #ffeb3b;
    }

    .profile_post_list_ajax .rateit .rateit-selected {
        color: #ffeb3b;
    }

    #callmorepost {
        position: relative;
        width: 100%;
        height: 35px;
        color: white;
        background-color: #0086b3;
        padding: 0;
        font-weight: bold;
        font-size: 17px;
        border: none;
    {#text-align: center;#} margin: 0 auto;
        border-radius: 5px;
        margin-bottom: 15px;
    }


    {# ---------------------------under------------------------------ #}
    .interested_tag_header {
        font-size: 15pt;
        padding: 7px 10px;
        font-size: 15px;
        border: 2px solid #e3f2fd;
        border-radius: 5px;
        margin-right: 10px;
        display: inline;
    }

    .interested_tag {
        color: white;
        border: 0px;
        border-radius: 2px;
        font-size: 15px;
        margin: 2px 0px;
        padding: 5px;
        transition: all .1s;
    }

    .interested_tag:hover {
        cursor: pointer;
        outline: 2px groove #1a237e;
    }

    .email_url_con{
        margin-top: 30px;
        margin-bottom: 15px;
    }

    .profile_email {
        display: inline;
        margin-right: 20px;
        margin-left: 20px;
    }

    .profile_email .fa-envelope::before {
        display: none;
    }

    .profile_email a i {
        font-size: 30px;
    }

    .profile_bookmark {
        font-size: 30px;
        display: inline;
        margin-right: 20px;
    }

    .profile_post_create {
        font-size: 30px;
        display: inline;
    }

    .profile_edit {
        padding-bottom: 20px;
        float: right;
    }

    .profile_margin {
        width: 100%;
        height: 40px;
    }

    .url_container {
        text-align: center;
        display: inline;
        {#margin-left: 30%;#}
        float: right;
    }

    .naver_label {
        font-size: 18px;
        border: 2px solid #e3f2fd;
        border-radius: 5px;
        margin-right: 10px;
        display: inline;
        padding: 5px 5px;
    }

    .daum_label {
        font-size: 18px;
        border: 2px solid #e3f2fd;
        border-radius: 5px;
        margin-right: 10px;
        display: inline;
        padding: 5px 5px;
    }

    .github_label {
        font-size: 18px;
        border: 2px solid #e3f2fd;
        border-radius: 5px;
        margin-right: 10px;
        display: inline;
        padding: 5px 5px;
    }

    .other_label {
        font-size: 18px;
        border: 2px solid #e3f2fd;
        border-radius: 5px;
        margin-right: 10px;
        display: inline;
        padding: 5px 5px;
    }

    .logofont {
        font-family: 나눔스퀘어 !important;
    }
    .non_posting_alert{
        display:flex;
        justify-content: center;
        margin-top: 60px;
        font-size: 20px;
        color: #1a237e;
    }
</style>

{% extends 'base.html' %}
{% load staticfiles %}
{% load static %}  {# 기본 프로필 이미지 #}

{% block header %}
    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js"
            integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo"
            crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.18.1/moment.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.18.1/locale/ko.js"></script>
    <link rel='stylesheet' href="{% static 'css/eventline.css' %}">
    <link href="https://fonts.googleapis.com/css?family=Gaegu&display=swap" rel="stylesheet">
    {#    <script async src='{% static 'js/eventline.js' %}'></script>#}
{% endblock %}

{% block content %}
    <div class="temp">
    <div class="profile_container">
        <div class="profile_first_container">
            <div class="profile_first_front_container">
                <div class="photo_con">
                    <div class="profile_photo">
                        {% if profile.photo %}
                            <img src="{{ profile.photo.url }}" alt=""/>
                        {% else %}
                            <img src="{% static 'img/person.jpg' %}" alt=""/>
                        {% endif %}
                    </div>
                </div>
                <div class="profile_first_content">
                    <div class="label_name">이름</div>
                    <div class="profile_name">{{ profile.name }}</div>
                    <div class="depart_con">
                        <div class="label_depart">소속</div>
                        <div class="profile_depart">{{ profile.department }}</div>
                    </div>
                    <div class="label_intro">자기소개</div>
                    <div class="profile_intro">
                        {% if profile.description != None %}
                            {{ profile.description|linebreaksbr }}
                        {% endif %}
                    </div>
                    <div><p class="interested_tag_header">관심태그</p><br><br>
                        {% if profile.interested_tag != None %}
                            {% for tag, size in interested_tag_dict.items %}

                                <a href="{% url 'search:main_search' %}?q={{ tag }}&options=tags">
                                    <button class="interested_tag"> #{{ tag }} </button>
                                </a>

                            {% endfor %}
                        {% endif %}
                    </div>
                </div>
            </div>
            <!---------------------------------타임라인--------------------------------------->
            <div id="timelineContainer" class="timeline-container">
                <div class="timeline-nav nav-past" id="navPast"><span class='fa fa-angle-left'></span></div>
                <div id="timelineWrapper">
                    {% if not posts %}
                        <p class="non_posting_alert">포스팅을 작성해주세요.</p>
                    {% endif %}
                    <div id="timeline" style="min-width: 0px">
                        <ol id="ticks">
                        </ol>
                        <ol id="eventList">
                        </ol>
                    </div>
                </div>
                <div class="timeline-nav nav-future" id="navFuture"><span class='fa fa-angle-right'></span></div>
                {#                    <div id="eventDetailContainer" class="event-detail-container">#}
                {#                        <div class="selected-event">#}
                {#                            <div class="event-title"></div>#}
                {#                            <div class="event--range">#}
                {#                                <div class="event-start-date"></div>#}
                {#                                <div class="event-separator">&nbsp;-&nbsp;</div>#}
                {#                                <div class="event-end-date"></div>#}
                {#                            </div>#}
                {#                            <div class="event-notes"></div>#}
                {#                        </div>#}
                {#                    </div>#}
            </div>
            <!---------------------------------타임라인 끝-------------------------------------------->
            <div class="email_url_con">
                <div class="profile_email" title="이메일 보내기"><a href="mailto:{{ profile.user.email }}"
                                                              class="fa-envelope"><i
                        class="fas fa-envelope-square"></i></a></div>
                <script type="text/javascript">
                    $(".profile_email").mouseover();
                </script>
                {% if profile.user.pk == user.pk %}
                    <div class="profile_bookmark" title="북마크 리스트"><a
                            href="{% url 'myprofile:bookmark_list' profile.user.pk %}"><i
                            class="fas fa-bookmark"></i></a>
                    </div>
                    <script type="text/javascript">
                        $(".profile_bookmark").mouseover();
                    </script>
                    <div class="profile_post_create" title="글 작성하기"><a href="{% url 'post:post_create' %}"><i
                            class="fas fa-pen-square"></i></a></div>
                    <script type="text/javascript">
                        $(".profile_post_create").mouseover();
                    </script>
                    {#                <br>#}
                    {#                <div class="profile_edit">#}
                    {#                    <a href="{% url 'myprofile:profile_edit' profile.user.pk %}">프로필 수정하기</a>#}
                    {#                </div>#}
                {% endif %}

                <div class="url_container">
                    {% if profile.naver != None %}
                        <div class="naver_label"><a href="{{ profile.naver }}">네이버</a></div>
                    {% endif %}
                    {% if profile.daum != None %}
                        <div class="daum_label"><a href="{{ profile.daum }}">다음</a></div>
                    {% endif %}
                    {% if profile.github != None %}
                        <div class="github_label"><a href="{{ profile.github }}"><i class="fab fa-github"></i>
                            Github</a>
                        </div>
                    {% endif %}
                    {% if profile.other_url != None %}
                        <div class="other_label"><a href="{{ profile.other_url }}">others</a></div>
                    {% endif %}
                </div>
            </div>
            <div class="profile_margin"></div>

            <div class="profile_recent_tag">
                <div class="recent_tag_label" style="font-size: 20px">최근태그목록</div>
                {% for tag_name, tag_count in recent_tags_count.items %}
                    {% if tag_count >= 3 %} <!—숫자는 추후 조정—>
                        <span style="font-size: 30px">
                        <a href="{% url 'search:main_search' %}?q={{ tag_name }}&options=tags">
                            #{{ tag_name }}</a>
                        </span>
                    {% elif tag_count == 2 %}
                        <span style="font-size: 25px">
                        <a href="{% url 'search:main_search' %}?q={{ tag_name }}&options=tags">
                            #{{ tag_name }}</a>
                        </span>
                    {% else %}
                        <span style="font-size: 20px">
                            <a href="{% url 'search:main_search' %}?q={{ tag_name }}&options=tags">
                            #{{ tag_name }}
                            </a>
                        </span>
                    {% endif %}
                {% endfor %}
            </div>
            <br>
            {% include 'post/myprofile_post_list.html' %}
        </div>
    </div>
    <script type="text/javascript">
        var get_random_RGB = function () {
            var r = Math.floor((Math.random() * 0xcc) + 0x11).toString(16);
            var g = Math.floor((Math.random() * 0xcc) + 0x11).toString(16);
            var b = Math.floor((Math.random() * 0xcc) + 0x11).toString(16);
            return '#' + r + g + b;
        };
        $('.interested_tag').each(function () {
            $(this).css('background-color', get_random_RGB);
        })
    </script>
    {% include "myprofile/eventline.html"  %}
{#    <script async src='{% static 'js/eventline.js' %}'></script>#}
{% endblock %}

